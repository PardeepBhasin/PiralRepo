{"id":"NJVg","dependencies":[{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\api.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\src\\modules\\api.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\package.json","includedInParent":true,"mtime":1619359868439},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\package.json","includedInParent":true,"mtime":1619100854609},{"name":"tslib","loc":{"line":3,"column":25},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\api.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\tslib\\tslib.es6.js"},{"name":"piral-base","loc":{"line":2,"column":23},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\api.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-base\\esm\\index.js"},{"name":"../state","loc":{"line":4,"column":24},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\api.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\state\\index.js"},{"name":"../components","loc":{"line":5,"column":30},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\api.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\components\\index.js"},{"name":"../utils","loc":{"line":6,"column":66},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\api.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\utils\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createCoreApi=o,exports.initializeApi=u,exports.mergeApis=a,exports.createExtenders=s,exports.defaultApiFactory=c;var e=require(\"tslib\"),r=require(\"piral-base\"),t=require(\"../state\"),n=require(\"../components\"),i=require(\"../utils\");function o(e){return function(r,o){var u=o.name;return{getData:function(r){return e.readDataValue(r)},setData:function(r,t,n){var o=(0,i.createDataOptions)(n),a=o.target,s=void 0===a?\"memory\":a,c=o.expires,f=(0,i.getDataExpiration)(c);return e.tryWriteDataItem(r,t,u,s,f)},registerPage:function(n,i,o){return e.registerPage(n,{pilet:u,meta:o,component:(0,t.withApi)(e,i,r,\"page\")}),function(){return r.unregisterPage(n)}},unregisterPage:function(r){e.unregisterPage(r)},registerExtension:function(n,i,o){return e.registerExtension(n,{pilet:u,component:(0,t.withApi)(e,i,r,\"extension\"),reference:i,defaults:o}),function(){return r.unregisterExtension(n,i)}},unregisterExtension:function(r,t){e.unregisterExtension(r,t)},renderHtmlExtension:function(r,t){var o=(0,i.renderInDom)(e,r,n.ExtensionSlot,t);return function(){return e.destroyPortal(o)}},Extension:n.ExtensionSlot}}}function u(r,t){return{on:t.on,off:t.off,emit:t.emit,meta:(0,e.__assign)({},r)}}function a(r,t,n){var i=t.map(function(e){return e(r,n)});return e.__assign.apply(void 0,(0,e.__spreadArray)([r],i)),r}function s(t,n){return(0,e.__spreadArray)([o],n.filter(r.isfunc)).map(function(n){var i=n(t);return(0,r.isfunc)(i)?i:function(){return(0,e.__assign)({},i)}})}function c(e,r){var t=s(e,r);return function(r){var n=u(r,e);return e.apis[r.name]=n,a(n,t,r)}}"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":90}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":92}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":100}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":114}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":116}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":124}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":134}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":136}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":144}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":160}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":162}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":170}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":188}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":190}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":194}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":196}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":91,"column":1},"generated":{"line":1,"column":204}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":213}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":215}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":223}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":237}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":239}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":247}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":259}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":261}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":269}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":286}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":288}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":296}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":308}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":317}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":8,"column":30},"generated":{"line":1,"column":319}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":9,"column":9},"generated":{"line":1,"column":322}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":9,"column":9},"generated":{"line":1,"column":329}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":9,"column":10},"generated":{"line":1,"column":338}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":9,"column":15},"generated":{"line":1,"column":340}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":10,"column":10},"generated":{"line":1,"column":343}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":10,"column":10},"generated":{"line":1,"column":347}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":10,"column":18},"generated":{"line":1,"column":349}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":10,"column":25},"generated":{"line":1,"column":351}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":11,"column":11},"generated":{"line":1,"column":356}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":11,"column":11},"generated":{"line":1,"column":362}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":1,"column":363}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":1,"column":371}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":12,"column":14},"generated":{"line":1,"column":380}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":13,"column":15},"generated":{"line":1,"column":383}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":13,"column":15},"generated":{"line":1,"column":390}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":13,"column":23},"generated":{"line":1,"column":392}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":13,"column":37},"generated":{"line":1,"column":406}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":410}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":418}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":15,"column":14},"generated":{"line":1,"column":427}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":15,"column":20},"generated":{"line":1,"column":429}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":15,"column":27},"generated":{"line":1,"column":431}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":434}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":438}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":47},"generated":{"line":1,"column":441}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":65},"generated":{"line":1,"column":443}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":65},"generated":{"line":1,"column":445}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":65},"generated":{"line":1,"column":464}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":467}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":469}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":471}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":478}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":22},"generated":{"line":1,"column":485}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":22},"generated":{"line":1,"column":489}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":25},"generated":{"line":1,"column":491}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":33},"generated":{"line":1,"column":500}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":35},"generated":{"line":1,"column":502}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":42},"generated":{"line":1,"column":504}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":16,"column":42},"generated":{"line":1,"column":506}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":17,"column":14},"generated":{"line":1,"column":514}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":17,"column":27},"generated":{"line":1,"column":517}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":17,"column":45},"generated":{"line":1,"column":519}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":17,"column":45},"generated":{"line":1,"column":521}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":17,"column":45},"generated":{"line":1,"column":540}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":15},"generated":{"line":1,"column":543}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":15},"generated":{"line":1,"column":550}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":1,"column":552}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":40},"generated":{"line":1,"column":569}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":46},"generated":{"line":1,"column":571}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":53},"generated":{"line":1,"column":573}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":60},"generated":{"line":1,"column":575}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":18,"column":68},"generated":{"line":1,"column":577}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":581}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":20,"column":18},"generated":{"line":1,"column":594}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":1,"column":603}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":20,"column":26},"generated":{"line":1,"column":605}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":607}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":610}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":1,"column":617}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":619}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":21,"column":29},"generated":{"line":1,"column":632}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":21,"column":36},"generated":{"line":1,"column":634}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":635}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":22,"column":15},"generated":{"line":1,"column":641}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":23,"column":10},"generated":{"line":1,"column":643}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":23,"column":14},"generated":{"line":1,"column":648}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":650}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":1,"column":661}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":663}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":665}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":674}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":38},"generated":{"line":1,"column":676}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":43},"generated":{"line":1,"column":678}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":24,"column":48},"generated":{"line":1,"column":680}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":690}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":701}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":708}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":26,"column":25},"generated":{"line":1,"column":710}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":26,"column":40},"generated":{"line":1,"column":725}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":730}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":745}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":28,"column":21},"generated":{"line":1,"column":754}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":757}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":759}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":774}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":778}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":796}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":805}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":1,"column":807}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":1,"column":809}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":812}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":819}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":821}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":839}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":32,"column":50},"generated":{"line":1,"column":841}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":33,"column":10},"generated":{"line":1,"column":842}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":33,"column":15},"generated":{"line":1,"column":848}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":850}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":1,"column":861}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":863}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":865}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":874}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":38},"generated":{"line":1,"column":876}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":1,"column":878}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":34,"column":48},"generated":{"line":1,"column":880}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":893}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":903}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":36,"column":10},"generated":{"line":1,"column":905}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":914}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":918}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":1,"column":929}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":21},"generated":{"line":1,"column":936}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":25},"generated":{"line":1,"column":938}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":45},"generated":{"line":1,"column":958}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":38,"column":51},"generated":{"line":1,"column":960}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":965}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":985}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":40,"column":26},"generated":{"line":1,"column":994}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":996}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":999}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":1001}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":1021}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":41,"column":52},"generated":{"line":1,"column":1023}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":1027}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":43,"column":25},"generated":{"line":1,"column":1047}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":1056}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":1,"column":1058}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":1061}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":1065}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":1068}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":1070}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":1072}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":1085}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":1087}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":49},"generated":{"line":1,"column":1089}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":1091}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":44,"column":64},"generated":{"line":1,"column":1105}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":1,"column":1108}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":1,"column":1115}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":1126}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":1133}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":1135}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":45,"column":43},"generated":{"line":1,"column":1149}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":1154}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":1164}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":1166}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":1182}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":1191}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":1,"column":1193}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":52,"column":53},"generated":{"line":1,"column":1195}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":1198}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":1204}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":1205}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":1208}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":1210}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":1213}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":1217}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":1219}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":56,"column":4},"generated":{"line":1,"column":1223}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":1228}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":1,"column":1230}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":1235}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1241}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1243}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1245}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1255}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":58,"column":9},"generated":{"line":1,"column":1258}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":1262}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":1271}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":63,"column":26},"generated":{"line":1,"column":1273}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":63,"column":41},"generated":{"line":1,"column":1275}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":63,"column":96},"generated":{"line":1,"column":1277}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1280}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1284}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1286}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":26},"generated":{"line":1,"column":1288}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":30},"generated":{"line":1,"column":1292}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":31},"generated":{"line":1,"column":1301}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":1304}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":1311}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":53},"generated":{"line":1,"column":1313}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":64,"column":58},"generated":{"line":1,"column":1315}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":1320}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1327}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1329}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1338}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1349}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1352}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1354}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1356}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1371}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":1372}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":65,"column":19},"generated":{"line":1,"column":1375}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":1379}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":1,"column":1381}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":69,"column":16},"generated":{"line":1,"column":1390}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":69,"column":32},"generated":{"line":1,"column":1392}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":69,"column":61},"generated":{"line":1,"column":1394}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1397}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":1,"column":1404}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":1,"column":1406}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":1,"column":1408}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":1,"column":1423}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":40},"generated":{"line":1,"column":1424}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":58},"generated":{"line":1,"column":1427}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":63},"generated":{"line":1,"column":1429}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":70},"generated":{"line":1,"column":1436}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":70,"column":58},"generated":{"line":1,"column":1438}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":71,"column":18},"generated":{"line":1,"column":1447}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":1,"column":1451}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":1,"column":1460}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":72,"column":10},"generated":{"line":1,"column":1463}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":72,"column":10},"generated":{"line":1,"column":1467}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":1469}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":72,"column":18},"generated":{"line":1,"column":1471}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1474}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1481}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1483}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1485}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1493}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":1,"column":1496}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":77,"column":13},"generated":{"line":1,"column":1498}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":1,"column":1509}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":1,"column":1516}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":1,"column":1518}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":1,"column":1520}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":1,"column":1530}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":1,"column":1533}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":84,"column":6},"generated":{"line":1,"column":1539}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":84,"column":16},"generated":{"line":1,"column":1548}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":84,"column":34},"generated":{"line":1,"column":1550}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":84,"column":63},"generated":{"line":1,"column":1552}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":1555}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":1559}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":1561}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":85,"column":36},"generated":{"line":1,"column":1563}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":85,"column":45},"generated":{"line":1,"column":1565}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":1568}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":86,"column":9},"generated":{"line":1,"column":1575}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":86,"column":10},"generated":{"line":1,"column":1584}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":1587}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":1591}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":87,"column":16},"generated":{"line":1,"column":1593}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":87,"column":30},"generated":{"line":1,"column":1595}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":87,"column":38},"generated":{"line":1,"column":1597}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":1600}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":1607}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":1609}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":88,"column":17},"generated":{"line":1,"column":1614}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":1,"column":1616}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":88,"column":32},"generated":{"line":1,"column":1622}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":1624}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":89,"column":21},"generated":{"line":1,"column":1626}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":89,"column":26},"generated":{"line":1,"column":1628}},{"source":"../../src/modules/api.ts","name":null,"original":{"line":89,"column":37},"generated":{"line":1,"column":1630}}],"sources":{"../../src/modules/api.ts":"import { isfunc, PiletApiCreator } from 'piral-base';\nimport { __assign } from 'tslib';\nimport { withApi } from '../state';\nimport { ExtensionSlot } from '../components';\nimport { createDataOptions, getDataExpiration, renderInDom } from '../utils';\nimport { PiletApi, PiletMetadata, GlobalStateContext, PiletCoreApi, PiralPlugin, PiletApiExtender } from '../types';\n\nexport function createCoreApi(context: GlobalStateContext): PiletApiExtender<PiletCoreApi> {\n  return (api, target) => {\n    const pilet = target.name;\n    return {\n      getData(name) {\n        return context.readDataValue(name);\n      },\n      setData(name, value, options) {\n        const { target = 'memory', expires } = createDataOptions(options);\n        const expiration = getDataExpiration(expires);\n        return context.tryWriteDataItem(name, value, pilet, target, expiration);\n      },\n      registerPage(route, arg, meta) {\n        context.registerPage(route, {\n          pilet,\n          meta,\n          component: withApi(context, arg, api, 'page'),\n        });\n        return () => api.unregisterPage(route);\n      },\n      unregisterPage(route) {\n        context.unregisterPage(route);\n      },\n      registerExtension(name, arg, defaults) {\n        context.registerExtension(name as string, {\n          pilet,\n          component: withApi(context, arg, api, 'extension'),\n          reference: arg,\n          defaults,\n        });\n        return () => api.unregisterExtension(name, arg);\n      },\n      unregisterExtension(name, arg) {\n        context.unregisterExtension(name as string, arg);\n      },\n      renderHtmlExtension(element, props) {\n        const id = renderInDom(context, element, ExtensionSlot, props);\n        return () => context.destroyPortal(id);\n      },\n      Extension: ExtensionSlot,\n    };\n  };\n}\n\nexport function initializeApi(target: PiletMetadata, context: GlobalStateContext) {\n  return {\n    on: context.on,\n    off: context.off,\n    emit: context.emit,\n    meta: {\n      ...target,\n    },\n  } as PiletApi;\n}\n\nexport function mergeApis(api: PiletApi, extenders: Array<PiletApiExtender<Partial<PiletApi>>>, target: PiletMetadata) {\n  const frags = extenders.map((extender) => extender(api, target));\n  __assign(api, ...frags);\n  return api;\n}\n\nexport function createExtenders(context: GlobalStateContext, apis: Array<PiralPlugin>) {\n  const creators: Array<PiralPlugin> = [createCoreApi, ...apis.filter(isfunc)];\n  return creators.map((c) => {\n    const ctx = c(context);\n\n    if (isfunc(ctx)) {\n      return ctx;\n    } else {\n      return () => ({\n        ...ctx,\n      });\n    }\n  });\n}\n\nexport function defaultApiFactory(context: GlobalStateContext, apis: Array<PiralPlugin>): PiletApiCreator {\n  const extenders = createExtenders(context, apis);\n  return (target) => {\n    const api = initializeApi(target, context);\n    context.apis[target.name] = api;\n    return mergeApis(api, extenders, target);\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"ec66acdaefe3951c71e20cffb133b119","cacheData":{"env":{}}}
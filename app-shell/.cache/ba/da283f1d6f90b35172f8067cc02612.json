{"id":"rNTF","dependencies":[{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\helpers.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\src\\helpers.tsx","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\package.json","includedInParent":true,"mtime":1619359868439},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\package.json","includedInParent":true,"mtime":1619100854609},{"name":"tslib","loc":{"line":1,"column":25},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\helpers.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\tslib\\tslib.es6.js"},{"name":"@dbeining/react-atom","loc":{"line":2,"column":33},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\helpers.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\@dbeining\\react-atom\\dist\\react-atom.js"},{"name":"piral-base","loc":{"line":3,"column":71},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\helpers.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-base\\esm\\index.js"},{"name":"./modules","loc":{"line":4,"column":57},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\helpers.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\modules\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.setSharedDependencies=i,exports.extendSharedDependencies=s,exports.createPiletOptions=a;var e=require(\"tslib\"),n=require(\"@dbeining/react-atom\"),t=require(\"piral-base\"),r=require(\"./modules\");function i(n){var t=(0,e.__assign)((0,e.__assign)({},r.globalDependencies),n);return function(){return t}}function s(n){var t=(0,e.__assign)((0,e.__assign)({},(0,r.getLocalDependencies)()),n);return function(){return t}}function a(e){e.context;var n=e.createApi,i=e.availablePilets,s=e.fetchDependency,a=e.getDependencies,l=e.loaderConfig,o=e.loadPilet,c=e.strategy,d=e.loaders,p=e.requestPilets;return a=(0,t.getDependencyResolver)(r.globalDependencies,a),{strategy:c,loadPilet:o=(0,t.extendLoader)(null!=o?o:(0,t.getDefaultLoader)(a,s,l),d),createApi:n,getDependencies:a,pilets:i,fetchPilets:p,dependencies:r.globalDependencies}}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":0}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":13}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":20}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":35}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":43}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":56}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":57}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":64}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":68}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":76}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":98}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":100}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":108}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":133}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":135}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":143}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":162}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":164}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":168}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":170}},{"source":"../src/helpers.tsx","name":null,"original":{"line":135,"column":1},"generated":{"line":1,"column":178}},{"source":"../src/helpers.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":187}},{"source":"../src/helpers.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":189}},{"source":"../src/helpers.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":197}},{"source":"../src/helpers.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":221}},{"source":"../src/helpers.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":223}},{"source":"../src/helpers.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":231}},{"source":"../src/helpers.tsx","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":245}},{"source":"../src/helpers.tsx","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":247}},{"source":"../src/helpers.tsx","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":255}},{"source":"../src/helpers.tsx","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":268}},{"source":"../src/helpers.tsx","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":277}},{"source":"../src/helpers.tsx","name":null,"original":{"line":29,"column":38},"generated":{"line":1,"column":279}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":282}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":286}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":289}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":291}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":293}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":304}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":306}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":308}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":318}},{"source":"../src/helpers.tsx","name":null,"original":{"line":31,"column":7},"generated":{"line":1,"column":321}},{"source":"../src/helpers.tsx","name":null,"original":{"line":30,"column":20},"generated":{"line":1,"column":323}},{"source":"../src/helpers.tsx","name":null,"original":{"line":32,"column":7},"generated":{"line":1,"column":343}},{"source":"../src/helpers.tsx","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":346}},{"source":"../src/helpers.tsx","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":353}},{"source":"../src/helpers.tsx","name":null,"original":{"line":34,"column":15},"generated":{"line":1,"column":364}},{"source":"../src/helpers.tsx","name":null,"original":{"line":34,"column":15},"generated":{"line":1,"column":371}},{"source":"../src/helpers.tsx","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":374}},{"source":"../src/helpers.tsx","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":383}},{"source":"../src/helpers.tsx","name":null,"original":{"line":41,"column":41},"generated":{"line":1,"column":385}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":388}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":392}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":395}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":397}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":399}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":410}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":412}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":414}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":424}},{"source":"../src/helpers.tsx","name":null,"original":{"line":43,"column":7},"generated":{"line":1,"column":428}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":430}},{"source":"../src/helpers.tsx","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":432}},{"source":"../src/helpers.tsx","name":null,"original":{"line":44,"column":7},"generated":{"line":1,"column":457}},{"source":"../src/helpers.tsx","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":460}},{"source":"../src/helpers.tsx","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":467}},{"source":"../src/helpers.tsx","name":null,"original":{"line":46,"column":15},"generated":{"line":1,"column":478}},{"source":"../src/helpers.tsx","name":null,"original":{"line":46,"column":15},"generated":{"line":1,"column":485}},{"source":"../src/helpers.tsx","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":488}},{"source":"../src/helpers.tsx","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":497}},{"source":"../src/helpers.tsx","name":null,"original":{"line":62,"column":35},"generated":{"line":1,"column":499}},{"source":"../src/helpers.tsx","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":502}},{"source":"../src/helpers.tsx","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":504}},{"source":"../src/helpers.tsx","name":null,"original":{"line":63,"column":2},"generated":{"line":1,"column":512}},{"source":"../src/helpers.tsx","name":null,"original":{"line":64,"column":2},"generated":{"line":1,"column":516}},{"source":"../src/helpers.tsx","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":518}},{"source":"../src/helpers.tsx","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":520}},{"source":"../src/helpers.tsx","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":530}},{"source":"../src/helpers.tsx","name":null,"original":{"line":65,"column":17},"generated":{"line":1,"column":532}},{"source":"../src/helpers.tsx","name":null,"original":{"line":65,"column":17},"generated":{"line":1,"column":534}},{"source":"../src/helpers.tsx","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":550}},{"source":"../src/helpers.tsx","name":null,"original":{"line":66,"column":17},"generated":{"line":1,"column":552}},{"source":"../src/helpers.tsx","name":null,"original":{"line":66,"column":17},"generated":{"line":1,"column":554}},{"source":"../src/helpers.tsx","name":null,"original":{"line":67,"column":2},"generated":{"line":1,"column":570}},{"source":"../src/helpers.tsx","name":null,"original":{"line":67,"column":17},"generated":{"line":1,"column":572}},{"source":"../src/helpers.tsx","name":null,"original":{"line":67,"column":17},"generated":{"line":1,"column":574}},{"source":"../src/helpers.tsx","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":590}},{"source":"../src/helpers.tsx","name":null,"original":{"line":68,"column":14},"generated":{"line":1,"column":592}},{"source":"../src/helpers.tsx","name":null,"original":{"line":68,"column":14},"generated":{"line":1,"column":594}},{"source":"../src/helpers.tsx","name":null,"original":{"line":69,"column":2},"generated":{"line":1,"column":607}},{"source":"../src/helpers.tsx","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":609}},{"source":"../src/helpers.tsx","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":611}},{"source":"../src/helpers.tsx","name":null,"original":{"line":70,"column":2},"generated":{"line":1,"column":621}},{"source":"../src/helpers.tsx","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":623}},{"source":"../src/helpers.tsx","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":625}},{"source":"../src/helpers.tsx","name":null,"original":{"line":71,"column":2},"generated":{"line":1,"column":634}},{"source":"../src/helpers.tsx","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":636}},{"source":"../src/helpers.tsx","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":638}},{"source":"../src/helpers.tsx","name":null,"original":{"line":72,"column":2},"generated":{"line":1,"column":646}},{"source":"../src/helpers.tsx","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":648}},{"source":"../src/helpers.tsx","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":650}},{"source":"../src/helpers.tsx","name":null,"original":{"line":126,"column":9},"generated":{"line":1,"column":664}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":671}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":20},"generated":{"line":1,"column":674}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":42},"generated":{"line":1,"column":676}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":42},"generated":{"line":1,"column":678}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":42},"generated":{"line":1,"column":701}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":20},"generated":{"line":1,"column":703}},{"source":"../src/helpers.tsx","name":null,"original":{"line":74,"column":62},"generated":{"line":1,"column":722}},{"source":"../src/helpers.tsx","name":null,"original":{"line":126,"column":9},"generated":{"line":1,"column":725}},{"source":"../src/helpers.tsx","name":null,"original":{"line":127,"column":4},"generated":{"line":1,"column":726}},{"source":"../src/helpers.tsx","name":null,"original":{"line":127,"column":12},"generated":{"line":1,"column":735}},{"source":"../src/helpers.tsx","name":null,"original":{"line":128,"column":4},"generated":{"line":1,"column":737}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":2},"generated":{"line":1,"column":747}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":14},"generated":{"line":1,"column":750}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":752}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":754}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":768}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":774}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":776}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":40},"generated":{"line":1,"column":779}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":57},"generated":{"line":1,"column":781}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":57},"generated":{"line":1,"column":783}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":57},"generated":{"line":1,"column":801}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":74},"generated":{"line":1,"column":803}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":91},"generated":{"line":1,"column":805}},{"source":"../src/helpers.tsx","name":null,"original":{"line":75,"column":106},"generated":{"line":1,"column":808}},{"source":"../src/helpers.tsx","name":null,"original":{"line":129,"column":4},"generated":{"line":1,"column":811}},{"source":"../src/helpers.tsx","name":null,"original":{"line":129,"column":13},"generated":{"line":1,"column":821}},{"source":"../src/helpers.tsx","name":null,"original":{"line":130,"column":4},"generated":{"line":1,"column":823}},{"source":"../src/helpers.tsx","name":null,"original":{"line":130,"column":19},"generated":{"line":1,"column":839}},{"source":"../src/helpers.tsx","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":841}},{"source":"../src/helpers.tsx","name":null,"original":{"line":131,"column":12},"generated":{"line":1,"column":848}},{"source":"../src/helpers.tsx","name":null,"original":{"line":132,"column":4},"generated":{"line":1,"column":850}},{"source":"../src/helpers.tsx","name":null,"original":{"line":132,"column":17},"generated":{"line":1,"column":862}},{"source":"../src/helpers.tsx","name":null,"original":{"line":133,"column":4},"generated":{"line":1,"column":864}},{"source":"../src/helpers.tsx","name":null,"original":{"line":133,"column":18},"generated":{"line":1,"column":877}},{"source":"../src/helpers.tsx","name":null,"original":{"line":133,"column":18},"generated":{"line":1,"column":879}}],"sources":{"../src/helpers.tsx":"import { addChangeHandler } from '@dbeining/react-atom';\nimport {\n  PiletApiCreator,\n  LoadPiletsOptions,\n  CustomSpecLoaders,\n  DefaultLoaderConfig,\n  PiletDependencyFetcher,\n  getDependencyResolver,\n  getDefaultLoader,\n  extendLoader,\n  PiletLoader,\n} from 'piral-base';\nimport { globalDependencies, getLocalDependencies } from './modules';\nimport type {\n  AvailableDependencies,\n  Pilet,\n  PiletRequester,\n  GlobalStateContext,\n  PiletDependencyGetter,\n  PiletLoadingStrategy,\n} from './types';\n\n/**\n * Creates a dependency getter that sets the shared dependencies explicitly.\n * Overrides the potentially set shared dependencies from the Piral CLI, but\n * keeps all global dependencies such as react, react-dom, ...\n * @param sharedDependencies The shared dependencies to declare.\n */\nexport function setSharedDependencies(sharedDependencies: AvailableDependencies) {\n  const dependencies = {\n    ...globalDependencies,\n    ...sharedDependencies,\n  };\n  return () => dependencies;\n}\n\n/**\n * Creates a dependency getter that extends the shared dependencies with additional dependencies.\n * @param additionalDependencies The additional dependencies to declare.\n */\nexport function extendSharedDependencies(additionalDependencies: AvailableDependencies) {\n  const dependencies = {\n    ...getLocalDependencies(),\n    ...additionalDependencies,\n  };\n  return () => dependencies;\n}\n\nexport interface PiletOptionsConfig {\n  availablePilets: Array<Pilet>;\n  createApi: PiletApiCreator;\n  fetchDependency: PiletDependencyFetcher;\n  getDependencies: PiletDependencyGetter;\n  strategy: PiletLoadingStrategy;\n  requestPilets: PiletRequester;\n  loaderConfig?: DefaultLoaderConfig;\n  loaders?: CustomSpecLoaders;\n  loadPilet: PiletLoader;\n  context: GlobalStateContext;\n}\n\nexport function createPiletOptions({\n  context,\n  createApi,\n  availablePilets,\n  fetchDependency,\n  getDependencies,\n  loaderConfig,\n  loadPilet,\n  strategy,\n  loaders,\n  requestPilets,\n}: PiletOptionsConfig): LoadPiletsOptions {\n  getDependencies = getDependencyResolver(globalDependencies, getDependencies);\n  loadPilet = extendLoader(loadPilet ?? getDefaultLoader(getDependencies, fetchDependency, loaderConfig), loaders);\n\n  // if we build the debug version of piral (debug and emulator build)\n  if (process.env.DEBUG_PIRAL) {\n    const { installPiralDebug } = require('piral-debug-utils');\n\n    installPiralDebug({\n      context,\n      createApi,\n      getDependencies,\n      loadPilet,\n      requestPilets,\n    });\n\n    // we watch the state container for changes\n    addChangeHandler(context.state, 'debugging', ({ current, previous }) => {\n      const viewState = sessionStorage.getItem('dbg:view-state') !== 'off';\n\n      if (viewState) {\n        const infos = new Error().stack;\n\n        if (infos) {\n          // Chrome, Firefox, ... (full capability)\n          const action = infos.split('\\n')[7].replace(/^\\s+at\\s+(Atom\\.|Object\\.)?/, '');\n          console.group(\n            `%c Piral State Change %c ${new Date().toLocaleTimeString()}`,\n            'color: gray; font-weight: lighter;',\n            'color: black; font-weight: bold;',\n          );\n          console.log('%c Previous', `color: #9E9E9E; font-weight: bold`, previous);\n          console.log('%c Action', `color: #03A9F4; font-weight: bold`, action);\n          console.log('%c Next', `color: #4CAF50; font-weight: bold`, current);\n          console.groupEnd();\n        } else {\n          // IE 11, ... (does not know colors etc.)\n          console.log('Changed state', previous, current);\n        }\n      }\n    });\n  }\n\n  if (process.env.DEBUG_PILET) {\n    const { withEmulatorPilets } = require('piral-debug-utils');\n\n    requestPilets = withEmulatorPilets(requestPilets, {\n      inject: context.injectPilet,\n      createApi,\n      loadPilet,\n    });\n  }\n\n  return {\n    strategy,\n    loadPilet,\n    createApi,\n    getDependencies,\n    pilets: availablePilets,\n    fetchPilets: requestPilets,\n    dependencies: globalDependencies,\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"d899db821e310eeb39ad091b25490d64","cacheData":{"env":{}}}
{"id":"qB8G","dependencies":[{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\esm\\utils\\events.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\src\\utils\\events.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\package.json","includedInParent":true,"mtime":1619359868439},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-core\\package.json","includedInParent":true,"mtime":1619100854609}],"generated":{"js":"\"use strict\";function t(t){return\"piral-\"+t}function e(e){var n=[];return{on:function(r,i){var u=function(t){var n=t.detail;return n&&n.state===e&&i(n.arg)};return document.body.addEventListener(t(r),u),n.push([i,u]),this},off:function(e,r){var i=n.filter(function(t){return t[0]===r})[0];return i&&(document.body.removeEventListener(t(e),i[1]),n.splice(n.indexOf(i),1)),this},emit:function(n,r){var i=document.createEvent(\"CustomEvent\");return i.initCustomEvent(t(n),!1,!1,{arg:r,state:e}),document.body.dispatchEvent(i),this}}}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createListener=e;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":5,"column":9},"generated":{"line":1,"column":22}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":5,"column":16},"generated":{"line":1,"column":24}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":6,"column":9},"generated":{"line":1,"column":27}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":6,"column":9},"generated":{"line":1,"column":33}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":6,"column":18},"generated":{"line":1,"column":42}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":9,"column":6},"generated":{"line":1,"column":44}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":9,"column":16},"generated":{"line":1,"column":53}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":9,"column":31},"generated":{"line":1,"column":55}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":58}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":62}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":10,"column":41},"generated":{"line":1,"column":64}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":67}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":73}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":74}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":77}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":13,"column":7},"generated":{"line":1,"column":86}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":88}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":12},"generated":{"line":1,"column":91}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":12},"generated":{"line":1,"column":95}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":23},"generated":{"line":1,"column":97}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":24},"generated":{"line":1,"column":106}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":109}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":113}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":115}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":117}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":52},"generated":{"line":1,"column":124}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":52},"generated":{"line":1,"column":131}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":62},"generated":{"line":1,"column":134}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":69},"generated":{"line":1,"column":136}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":79},"generated":{"line":1,"column":144}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":88},"generated":{"line":1,"column":147}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":97},"generated":{"line":1,"column":149}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":14,"column":104},"generated":{"line":1,"column":151}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":157}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":164}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":15,"column":15},"generated":{"line":1,"column":173}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":15,"column":20},"generated":{"line":1,"column":178}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":15,"column":37},"generated":{"line":1,"column":195}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":15,"column":44},"generated":{"line":1,"column":197}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":15,"column":51},"generated":{"line":1,"column":200}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":1,"column":203}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":16,"column":21},"generated":{"line":1,"column":205}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":16,"column":26},"generated":{"line":1,"column":210}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":16,"column":27},"generated":{"line":1,"column":211}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":16,"column":37},"generated":{"line":1,"column":213}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":217}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":223}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":19,"column":7},"generated":{"line":1,"column":227}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":236}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":19,"column":14},"generated":{"line":1,"column":238}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":1,"column":241}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":1,"column":245}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":247}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":40},"generated":{"line":1,"column":249}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":47},"generated":{"line":1,"column":256}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":48},"generated":{"line":1,"column":265}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":54},"generated":{"line":1,"column":268}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":54},"generated":{"line":1,"column":275}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":56},"generated":{"line":1,"column":277}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":63},"generated":{"line":1,"column":282}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":20,"column":72},"generated":{"line":1,"column":286}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":289}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":296}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":300}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":17},"generated":{"line":1,"column":309}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":22},"generated":{"line":1,"column":314}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":42},"generated":{"line":1,"column":334}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":49},"generated":{"line":1,"column":336}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":56},"generated":{"line":1,"column":339}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":23,"column":65},"generated":{"line":1,"column":341}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":345}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":347}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":1,"column":354}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":24,"column":45},"generated":{"line":1,"column":356}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":24,"column":53},"generated":{"line":1,"column":364}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":24,"column":64},"generated":{"line":1,"column":367}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":371}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":377}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":382}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":391}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":393}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":396}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":400}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":402}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":411}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":423}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":438}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":445}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":447}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":25},"generated":{"line":1,"column":463}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":32},"generated":{"line":1,"column":465}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":469}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":46},"generated":{"line":1,"column":472}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":31,"column":53},"generated":{"line":1,"column":474}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":475}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":479}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":481}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":487}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":491}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":1,"column":500}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":505}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":35,"column":34},"generated":{"line":1,"column":519}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":522}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":529}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":536}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":551}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":559}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":572}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":573}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":580}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":584}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":592}},{"source":"../../src/utils/events.ts","name":null,"original":{"line":39,"column":1},"generated":{"line":1,"column":607}}],"sources":{"../../src/utils/events.ts":"import { EventEmitter } from '../types';\n\nexport type EventListeners = Array<[any, any]>;\n\nfunction nameOf(type: string | number) {\n  return `piral-${type}`;\n}\n\nexport function createListener(state: any): EventEmitter {\n  const eventListeners: EventListeners = [];\n\n  return {\n    on(type, callback) {\n      const listener = ({ detail }: CustomEvent) => detail && detail.state === state && callback(detail.arg);\n      document.body.addEventListener(nameOf(type), listener);\n      eventListeners.push([callback, listener]);\n      return this;\n    },\n    off(type, callback) {\n      const [listener] = eventListeners.filter((m) => m[0] === callback);\n\n      if (listener) {\n        document.body.removeEventListener(nameOf(type), listener[1]);\n        eventListeners.splice(eventListeners.indexOf(listener), 1);\n      }\n\n      return this;\n    },\n    emit(type, arg) {\n      const ce = document.createEvent('CustomEvent');\n      ce.initCustomEvent(nameOf(type), false, false, {\n        arg,\n        state,\n      });\n      document.body.dispatchEvent(ce);\n      return this;\n    },\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"10c3ea5dd05be42578a628e5ea1829f9","cacheData":{"env":{}}}
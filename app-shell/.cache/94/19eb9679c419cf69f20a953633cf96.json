{"id":"../node_modules/piral-forms/esm/usePrompt.js","dependencies":[{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-forms\\esm\\usePrompt.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-forms\\src\\usePrompt.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\package.json","includedInParent":true,"mtime":1619360629084},{"name":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-forms\\package.json","includedInParent":true,"mtime":1619100980810},{"name":"react","loc":{"line":1,"column":26},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-forms\\esm\\usePrompt.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\react\\index.js"},{"name":"piral-base","loc":{"line":2,"column":23},"parent":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-forms\\esm\\usePrompt.js","resolved":"C:\\D\\projects\\PiralPocUsingCli\\app-shell\\node_modules\\piral-base\\esm\\index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePrompt = usePrompt;\n\nvar _react = require(\"react\");\n\nvar _piralBase = require(\"piral-base\");\n\n/**\n * Hook to notify the user in case of potential data loss when\n * performing a page transition (internal or external).\n * @param active True if the prompt should be shown, otherwise false.\n * @param history The history of the currently used router.\n * @param message The message to display when the prompt is shown.\n */\nfunction usePrompt(active, history, message, onTransition) {\n  (0, _react.useEffect)(function () {\n    if (active) {\n      var beforeUnload_1 = function (ev) {\n        var msg = (0, _piralBase.isfunc)(message) ? message() : message;\n        ev.returnValue = msg;\n        return msg;\n      };\n\n      var unlisten_1 = onTransition && history.listen(onTransition);\n      var unblock_1 = message && history.block(message);\n      window.addEventListener('beforeunload', beforeUnload_1);\n      return function () {\n        unlisten_1 && unlisten_1();\n        unblock_1 && unblock_1();\n        window.removeEventListener('beforeunload', beforeUnload_1);\n      };\n    }\n\n    return function () {};\n  }, [active, message]);\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/usePrompt.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":10,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":19,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":19,"column":9}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":19,"column":18}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":19,"column":19}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":19,"column":25}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":19,"column":27}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":19,"column":34}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":19,"column":36}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":19,"column":43}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":19,"column":45}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":19,"column":57}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":17,"column":45},"generated":{"line":19,"column":59}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":20,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":20,"column":24}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":20,"column":36}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":21,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":21,"column":8}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":21,"column":14}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":20,"column":16},"generated":{"line":21,"column":16}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":22,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":22,"column":10}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":24},"generated":{"line":22,"column":24}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":22,"column":27}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":22,"column":37}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":22,"column":39}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":49},"generated":{"line":22,"column":41}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":23,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":14},"generated":{"line":23,"column":12}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":17},"generated":{"line":23,"column":15}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":23,"column":18}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":27},"generated":{"line":23,"column":41}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":23,"column":48}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":38},"generated":{"line":23,"column":52}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":45},"generated":{"line":23,"column":59}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":23,"column":61}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":50},"generated":{"line":23,"column":64}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":23,"column":71}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":24,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":24,"column":8}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":10},"generated":{"line":24,"column":10}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":24,"column":11}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":24,"column":22}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":25},"generated":{"line":24,"column":25}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":24,"column":28}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":25,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":25,"column":15}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":25,"column":18}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":26,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":26,"column":7}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":28,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":28,"column":10}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":28,"column":20}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":23},"generated":{"line":28,"column":23}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":35},"generated":{"line":28,"column":35}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":28,"column":39}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":46},"generated":{"line":28,"column":46}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":47},"generated":{"line":28,"column":47}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":28,"column":53}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":28,"column":54}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":28,"column":66}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":28,"column":67}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":29,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":29,"column":10}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":29,"column":19}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":29,"column":22}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":29},"generated":{"line":29,"column":29}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":29,"column":33}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":40},"generated":{"line":29,"column":40}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":41},"generated":{"line":29,"column":41}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":29,"column":46}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":47},"generated":{"line":29,"column":47}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":33},"generated":{"line":29,"column":54}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":29,"column":55}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":30,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":30,"column":6}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":30,"column":12}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":30,"column":13}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":30,"column":29}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":30,"column":30}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":30,"column":44}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":30,"column":46}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":30,"column":60}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":31,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":31,"column":13}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":31,"column":25}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":32,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":32,"column":8}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":30,"column":16},"generated":{"line":32,"column":18}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":32,"column":22}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":30,"column":28},"generated":{"line":32,"column":32}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":32,"column":34}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":33,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":33,"column":8}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":33,"column":17}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":33,"column":21}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":33,"column":30}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":33,"column":32}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":34,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":34,"column":8}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":34,"column":14}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":15},"generated":{"line":34,"column":15}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":34,"column":34}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":35},"generated":{"line":34,"column":35}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":34,"column":49}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":51},"generated":{"line":34,"column":51}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":34,"column":65}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":33,"column":7},"generated":{"line":35,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":35,"column":7}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":34,"column":5},"generated":{"line":36,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":38,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":38,"column":11}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":38,"column":23}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":38,"column":24}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":38,"column":25}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":37,"column":3},"generated":{"line":39,"column":0}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":39,"column":3}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":37,"column":5},"generated":{"line":39,"column":5}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":39,"column":6}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":37,"column":5},"generated":{"line":39,"column":12}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":39,"column":14}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":37,"column":5},"generated":{"line":39,"column":21}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":39,"column":22}},{"source":"../src/usePrompt.ts","name":null,"original":{"line":38,"column":1},"generated":{"line":40,"column":0}}],"sources":{"../src/usePrompt.ts":"import { useEffect } from 'react';\nimport { isfunc } from 'piral-base';\nimport { History, Location } from 'history';\nimport { PromptMessage } from './types';\n\n/**\n * Hook to notify the user in case of potential data loss when\n * performing a page transition (internal or external).\n * @param active True if the prompt should be shown, otherwise false.\n * @param history The history of the currently used router.\n * @param message The message to display when the prompt is shown.\n */\nexport function usePrompt(\n  active: boolean,\n  history: History,\n  message: PromptMessage,\n  onTransition?: (location: Location) => void,\n) {\n  useEffect(() => {\n    if (active) {\n      const beforeUnload = (ev: BeforeUnloadEvent) => {\n        const msg = isfunc(message) ? message() : message;\n        ev.returnValue = msg;\n        return msg;\n      };\n      const unlisten = onTransition && history.listen(onTransition);\n      const unblock = message && history.block(message);\n      window.addEventListener('beforeunload', beforeUnload);\n      return () => {\n        unlisten && unlisten();\n        unblock && unblock();\n        window.removeEventListener('beforeunload', beforeUnload);\n      };\n    }\n\n    return () => {};\n  }, [active, message]);\n}\n"},"lineCount":null}},"error":null,"hash":"d965e4ab42efdcd8640f848c2be1c264","cacheData":{"env":{}}}